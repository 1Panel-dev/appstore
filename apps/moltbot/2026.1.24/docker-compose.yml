services:
  moltbot:
    container_name: ${CONTAINER_NAME}
    image: 1panel/moltbot:2026.1.24
    restart: unless-stopped
    networks:
      - 1panel-network
    environment:
      HOME: /home/node
      TERM: xterm-256color
      BROWSER: echo
    volumes:
      - ./data/config:/home/node/.clawdbot
      - ./data/workspace:/home/node/clawd
    ports:
      - ${PANEL_APP_PORT_HTTP}:18789
      - ${PANEL_APP_PORT_BRIDGE}:18790
    init: true
    command:
      ["node", "dist/index.js", "gateway", "--bind", "0.0.0.0", "--port", "18789"]
    labels:
      createdBy: "Apps"

  moltbot-cli:
    image: 1panel/moltbot:2026.1.24
    environment:
      HOME: /home/node
      TERM: xterm-256color
      BROWSER: echo
    volumes:
      - ./data/config:/home/node/.clawdbot
      - ./data/workspace:/home/node/clawd
    stdin_open: true
    tty: true
    init: true
    entrypoint: ["node", "dist/index.js"]
    
networks:
  1panel-network:
    external: true
