# Gost

ç”¨äºŽçŽ°ä»£å‡ºç‰ˆã€ä¼šå‘˜åˆ¶ã€è®¢é˜…å’Œé€šè®¯çš„ç‹¬ç«‹æŠ€æœ¯

![Gost](https://file.lifebus.top/imgs/gost_cover.png)

Ghost æ˜¯ä¸€ä¸ªåŸºäºŽçŽ°ä»£ Node.js æŠ€æœ¯å †æ ˆæž„å»ºçš„å¼€æºä¸“ä¸šå‘å¸ƒå¹³å°ï¼Œä¸“ä¸ºéœ€è¦å¼ºå¤§åŠŸèƒ½ã€çµæ´»æ€§å’Œæ€§èƒ½çš„å›¢é˜Ÿè€Œè®¾è®¡ã€‚

## ç‰¹æ€§

+ ç‹¬ç«‹ç»“æž„

Ghost çš„ç»“æž„æ˜¯ä¸€ä¸ªéžè¥åˆ©ç»„ç»‡ï¼Œä»¥ç¡®ä¿å®ƒæ°¸è¿œä¸ä¼šåˆæ³•åœ°è¢«å‡ºå”®ï¼Œå¹¶ä¸”å°†å§‹ç»ˆä¿æŒç‹¬ç«‹ï¼Œæ ¹æ®ç”¨æˆ·çš„éœ€æ±‚æž„å»ºäº§å“ï¼Œè€Œä¸æ˜¯å¯»æ±‚ðŸ’°å›žæŠ¥çš„æŠ•èµ„è€…çš„çªå‘å¥‡æƒ³ã€‚

+ å¯æŒç»­å‘å±•çš„ä¸šåŠ¡

è™½ç„¶æˆ‘ä»¬å‘å¸ƒçš„è½¯ä»¶æ˜¯å…è´¹çš„ï¼Œä½†æˆ‘ä»¬è¿˜ä¸ºå…¶é”€å”®é«˜çº§æ‰˜ç®¡æ‰˜ç®¡ï¼Œè¿™ä¸ºéžè¥åˆ©ç»„ç»‡æä¾›äº†å¯æŒç»­çš„å•†ä¸šæ¨¡å¼ï¼Œå¹¶ä½¿å…¶èƒ½å¤Ÿ 100% è‡ªç­¹èµ„é‡‘ã€‚

+ åˆ†å¸ƒå¼å›¢é˜Ÿ

æ‹¥æœ‰å¯æŒç»­çš„ä¸šåŠ¡ä½¿æˆ‘ä»¬èƒ½å¤Ÿè˜è¯·å¼€æºè´¡çŒ®è€…å…¨èŒä»Žäº‹ Ghost å·¥ä½œï¼Œè€Œä¸”æˆ‘ä»¬å®Œå…¨è¿œç¨‹å®Œæˆè¿™é¡¹å·¥ä½œã€‚ Ghost æ ¸å¿ƒå›¢é˜Ÿå®Œå…¨åˆ†å¸ƒåœ¨ä»–ä»¬é€‰æ‹©çš„ä»»ä½•åœ°æ–¹ã€‚

+ é»˜è®¤é€æ˜Ž

æˆ‘ä»¬é€æ˜Žåœ°åˆ†äº«æˆ‘ä»¬çš„æ”¶å…¥å¹¶å…¬å¼€æˆ‘ä»¬çš„ä»£ç ï¼Œä»¥ä¾¿ä»»ä½•äººéƒ½å¯ä»¥éªŒè¯æˆ‘ä»¬æ‰€åšçš„äº‹æƒ…ä»¥åŠæˆ‘ä»¬å¦‚ä½•åšã€‚æ²¡æœ‰æ–—ç¯·æˆ–åŒ•é¦–ã€‚

+ æ— æ¡ä»¶å¼€æº

æˆ‘ä»¬æ‰€æœ‰çš„é¡¹ç›®éƒ½æ˜¯åœ¨å®½æ¾çš„å¼€æºMIT è®¸å¯è¯ä¸‹å‘å¸ƒçš„ï¼Œå› æ­¤å³ä½¿å…¬å¸å¤±è´¥ï¼Œæˆ‘ä»¬çš„ä»£ç ä»ç„¶å¯ä»¥è¢«ä¸–ç•Œä¸Šä»»ä½•äººä¸å—é™åˆ¶åœ°ä½¿ç”¨å’Œç»§æ‰¿ã€‚

ðŸš€ å†…ç½®ä¼šå‘˜èµ„æ ¼å’Œè®¢é˜…

Ghost ä¸ä»…å¯ä»¥ä¸ºåŒ¿åè®¿é—®è€…åˆ›å»ºå†…å®¹ï¼Œè¿˜å¯ä»¥è®©æ‚¨å°†å—ä¼—è½¬å˜ä¸ºä¼ä¸šï¼Œå¹¶ä¸ºä¼šå‘˜æ³¨å†Œå’Œä»˜è´¹è®¢é˜…å•†åŠ¡æä¾›åŽŸç”Ÿæ”¯æŒã€‚å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªé»˜è®¤å†…ç½®ä¼šå‘˜èµ„æ ¼å¹¶æ·±åº¦é›†æˆçš„å¹³å°ã€‚

ðŸš€ å¼€å‘è€…å‹å¥½çš„API

Ghost çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªè‡ªæ¶ˆè€—çš„ RESTful JSON APIï¼Œå…·æœ‰è§£è€¦çš„ç®¡ç†å®¢æˆ·ç«¯å’Œå‰ç«¯ã€‚æˆ‘ä»¬æä¾›äº†å¾ˆå¤šå·¥å…·æ¥è®©ç½‘ç«™å°½å¿«è¿è¡Œï¼Œä½†æœ€ç»ˆå®ƒåªæ˜¯
JSON â„¢ï¸ï¼Œæ‰€ä»¥å¦‚æžœæ‚¨æƒ³å®Œå…¨æ— å¤´ä½¿ç”¨ Ghost å¹¶ç¼–å†™è‡ªå·±çš„å‰ç«¯æˆ–åŽç«¯â€¦â€¦æ‚¨å¯ä»¥ï¼

ðŸš€ ä¸°å¯Œç¼–è¾‘å™¨

Ghost æ‹¥æœ‰æ¯ä¸ªä½œå®¶éƒ½æƒ³è¦çš„ä¸°å¯Œç¼–è¾‘å™¨ï¼Œä½†åœ¨å¹•åŽå®ƒæä¾›çš„åŠŸèƒ½è¿œè¿œè¶…å‡ºæ‚¨çš„é¢„æœŸã€‚
æ‰€æœ‰å†…å®¹éƒ½ä»¥åŸºäºŽ JSON çš„æ ‡å‡†åŒ–æ–‡æ¡£å­˜å‚¨æ ¼å¼ï¼ˆç§°ä¸º Lexicalï¼‰å­˜å‚¨ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹ç§°ä¸º Cards çš„å¯æ‰©å±•å¯Œåª’ä½“å¯¹è±¡çš„æ”¯æŒã€‚

ç®€å•æ¥è¯´ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä¸ºåœ¨ Medium ç¼–è¾‘å™¨ä¸­é›†æˆ Slackï¼Œå­˜å‚¨åˆç†ä¸”å¯é€šè¿‡ API å®Œå…¨è®¿é—®ã€‚

ðŸš€ è‡ªå®šä¹‰ç½‘ç«™ç»“æž„

Ghost ä¸­çš„è·¯ç”±å®Œå…¨å¯ä»¥æ ¹æ®æ‚¨çš„éœ€è¦è¿›è¡Œé…ç½®ã€‚å¼€ç®±å³ç”¨çš„ Ghost é™„å¸¦äº†æ ‡å‡†çš„åå‘æ—¶é—´é¡ºåºå¸–å­æºï¼Œå¸¦æœ‰å¹²å‡€çš„æ°¸ä¹…é“¾æŽ¥å’ŒåŸºæœ¬é¡µé¢ï¼Œä½†è¿™å¾ˆå®¹æ˜“æ›´æ”¹ã€‚

æ— è®ºæ‚¨éœ€è¦ä¸€ä¸ªå¸¦æœ‰/en/å’Œ/de/åŸºæœ¬ URL çš„å®Œæ•´å¤šè¯­è¨€ç«™ç‚¹ï¼Œè¿˜æ˜¯æƒ³è¦ä¸º/europe/uk/london/ç­‰åˆ†å±‚æ•°æ®æž„å»ºç‰¹å®šçš„ç›®å½•ç»“æž„ â€” Ghost
çš„è·¯ç”±å±‚å¯ä»¥ä»»æ„æ•°é‡è¿›è¡Œæ“ä½œå®žçŽ°æ‚¨çš„ç”¨ä¾‹çš„æ–¹æ³•ã€‚

ðŸš€ è§’è‰²å’Œæƒé™

ä»Žä¸€å¼€å§‹å°±ä½¿ç”¨å†…ç½®çš„åˆç†ç”¨æˆ·è§’è‰²å’Œæƒé™æ¥è®¾ç½®æ‚¨çš„ç«™ç‚¹ã€‚

+ è´¡çŒ®è€…ï¼šå¯ä»¥ç™»å½•å¹¶æ’°å†™å¸–å­ï¼Œä½†ä¸èƒ½å‘å¸ƒã€‚
+ ä½œè€…ï¼šå¯ä»¥åˆ›å»ºå’Œå‘å¸ƒæ–°çš„å¸–å­å’Œæ ‡ç­¾ã€‚
+ ç¼–è¾‘ï¼šå¯ä»¥é‚€è¯·ã€ç®¡ç†å’Œç¼–è¾‘ä½œè€…å’Œè´¡çŒ®è€…ã€‚
+ ç®¡ç†å‘˜ï¼šæ‹¥æœ‰ç¼–è¾‘æ‰€æœ‰æ•°æ®å’Œè®¾ç½®çš„å®Œå…¨æƒé™ã€‚
+ æ‰€æœ‰è€…ï¼šæ— æ³•åˆ é™¤çš„ç®¡ç†å‘˜+æœ‰æƒè®¿é—®è´¦å•è¯¦ç»†ä¿¡æ¯ã€‚

ðŸš€ è‡ªå®šä¹‰ä¸»é¢˜

Ghost é™„å¸¦äº†ä¸€ä¸ªç®€å•çš„ Handlebars.js
å‰ç«¯ä¸»é¢˜å±‚ï¼Œè¯¥å±‚ä½¿ç”¨èµ·æ¥éžå¸¸ç®€å•ï¼Œè€Œä¸”åŠŸèƒ½å¼ºå¤§å¾—ä»¤äººæƒŠè®¶ã€‚è®¸å¤šäººåšæŒä½¿ç”¨é»˜è®¤ä¸»é¢˜ï¼ˆçŽ°åœºæ¼”ç¤º/æºä»£ç ï¼‰ï¼Œå®ƒæä¾›äº†å¹²å‡€çš„æ‚å¿—è®¾è®¡ -
ä½†è¿™å¯ä»¥ä¿®æ”¹æˆ–å®Œå…¨æ›¿æ¢ã€‚

ðŸš€ åº”ç”¨ç¨‹åºå’Œé›†æˆ

å› ä¸º Ghost æ˜¯å®Œå…¨å¼€æºçš„ï¼Œæž„å»ºä¸º JSON APIï¼Œå…·æœ‰ Webhooksï¼Œå¹¶ä¸”è®©æ‚¨å¯ä»¥å®Œå…¨æŽ§åˆ¶å‰ç«¯ï¼šå®ƒæœ¬è´¨ä¸Šä¸Žæ‰€æœ‰ä¸œè¥¿é›†æˆã€‚æœ‰äº›äº‹æƒ…æ¯”å…¶ä»–äº‹æƒ…æ›´å®¹æ˜“ï¼Œä½†å‡ ä¹Žä»»ä½•äº‹æƒ…éƒ½å¯ä»¥é€šè¿‡ä¸€ç‚¹åŠªåŠ›æ¥å®žçŽ°ã€‚
æˆ–è€…æ˜¯ä¸€ä¸ªæ¯” 1803 å¹´æ›´è¿‘çš„æ¯”å–»ã€‚

ðŸš€ æœç´¢å¼•æ“Žä¼˜åŒ–

Ghost é…å¤‡äº†ä¸–ç•Œä¸€æµçš„ SEO ä»¥åŠç¡®ä¿æ‚¨çš„å†…å®¹å¿«é€Ÿä¸€è‡´åœ°æ˜¾ç¤ºåœ¨æœç´¢ç´¢å¼•ä¸­æ‰€éœ€çš„ä¸€åˆ‡ã€‚

+ æ— éœ€æ’ä»¶

Ghost å°†æ‰€æœ‰åŸºæœ¬æŠ€æœ¯ SEO ä¼˜åŒ–ç›´æŽ¥å†…ç½®äºŽæ ¸å¿ƒä¸­ï¼Œæ— éœ€ä¾èµ–ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚å¾—ç›ŠäºŽ Node.jsï¼Œå®ƒè¿˜å…·æœ‰è¿œè¿œä¼˜è¶Šçš„é€Ÿåº¦å’Œé¡µé¢åŠ è½½æ€§èƒ½ã€‚

+ è‡ªåŠ¨è°·æ­Œ XML ç«™ç‚¹åœ°å›¾

Ghost å°†è‡ªåŠ¨ç”Ÿæˆå¹¶é“¾æŽ¥åˆ°å®Œæ•´çš„ Google ç«™ç‚¹åœ°å›¾ï¼ŒåŒ…æ‹¬æ‚¨ç½‘ç«™ä¸Šçš„æ¯ä¸ªé¡µé¢ï¼Œä»¥ç¡®ä¿æœç´¢å¼•æ“Žèƒ½å¤Ÿä¸ºæ¯ä¸ª URL å»ºç«‹ç´¢å¼•ã€‚

+ è‡ªåŠ¨ç»“æž„åŒ–æ•°æ®+JSON-LD

Ghost ç”Ÿæˆæœ‰å…³é¡µé¢çš„åŸºäºŽJSON-LD çš„ç»“æž„åŒ–å…ƒæ•°æ®ï¼Œè¿™æ ·æ‚¨å°±ä¸å¿…ä¾èµ–æ ‡è®°ä¸­æ··ä¹±çš„å¾®æ ¼å¼æ¥æä¾›è¯­ä¹‰ä¸Šä¸‹æ–‡ã€‚å³ä½¿æ‚¨æ›´æ”¹ä¸»é¢˜æˆ–å‰ç«¯ï¼Œæ‚¨çš„
SEO ä»ç„¶å®Œå¥½æ— æŸã€‚
Ghost è¿˜ä¸º Facebook OpenGraph å’Œ Twitter Card æ·»åŠ äº†è‡ªåŠ¨ä»£ç ã€‚

+ è§„èŒƒæ ‡ç­¾

Ghost ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªå¸–å­å’Œé¡µé¢ç”Ÿæˆæ­£ç¡®çš„rel="canonical"æ ‡ç­¾ï¼Œä»¥ä¾¿æœç´¢å¼•æ“Žå§‹ç»ˆä¼˜å…ˆè€ƒè™‘ä¸€ä¸ªçœŸæ­£çš„é“¾æŽ¥ã€‚

## å®‰è£…è¯´æ˜Ž

> åŽå°ç®¡ç†åœ°å€ï¼š`http://127.0.0.1:2368/ghost`
>
> é¦–æ¬¡è¿›å…¥åŽå°ç®¡ç†ï¼Œä¼šæç¤ºåˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼Œç„¶åŽç™»å½•å³å¯ã€‚

## ä½¿ç”¨è¯´æ˜Ž

### è¯­è¨€è®¾ç½®

æ²¡æœ‰æ›´å¥½çš„è§£å†³åŠžæ³•,å³ä½¿è®¾ç½® `zh` ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚

### é‚®ä»¶é…ç½®

Ghost é»˜è®¤ä½¿ç”¨ Mailgun ä½œä¸ºé‚®ä»¶æœåŠ¡ï¼Œä½†æ˜¯ç”±äºŽå…¶å·²ç»ç§»é™¤ `å…è´¹å¥—é¤`, æˆ‘ä»¬å°†é…ç½® `smtp` ä½œä¸ºé‚®ä»¶æœåŠ¡å•†ã€‚

å¦‚æžœå­˜åœ¨å‘ä¿¡å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—ï¼Œå¯èƒ½æ˜¯é‚®ä»¶æœåŠ¡å•†çš„é—®é¢˜ã€‚

å¦‚æžœå‘ä¿¡äººä¸Žé…ç½®ä¸ä¸€è‡´ï¼Œè¯†åˆ«åˆ° `åŸŸå` ä½œä¸ºå‘ä¿¡äººï¼Œå³ä½¿é…ç½®äº†å‘ä¿¡äººï¼Œ ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚

å¯ä»¥é€šè¿‡ `è®¾ç½®` >> `é—¨æˆ·è®¾ç½®` >> `è´¦æˆ·è®¾ç½®` ä¿®æ”¹ `Support email address` ä¸ºé…ç½®çš„å‘ä¿¡äººã€‚

## åå‘ä»£ç†

> Nginx

```nginx
location / {
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header Host $http_host;
    proxy_pass http://127.0.0.1:2368;
}

client_max_body_size 50m;
```
