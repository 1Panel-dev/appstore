services:
  docbase:
    image: gonorth/docbase:0.0.29
    container_name: ${CONTAINER_NAME}
    restart: always
    environment:
      EMBEDDING_MODEL: ${PANEL_EMBEDDING_MODEL}
      EMBEDDING_URL: ${PANEL_EMBEDDING_URL}
      EMBEDDING_APIKEY: ${PANEL_EMBEDDING_APIKEY}
      EMBEDDING_DIMENSIONS: ${PANEL_EMBEDDING_DIMENSIONS}
      MEILI_URL: ${PANEL_MEILISEARCH_URL}
      MEILI_MASTER_KEY: ${PANEL_MEILISEARCH_TOKEN}

      INIT_PATH: /data
    volumes:
      - ./data:/data
    networks:
      - 1panel-network
    ports:
      - ${PANEL_APP_PORT_HTTP}:3000
    labels:
      createdBy: "Apps"

networks:
  1panel-network:
    external: true
